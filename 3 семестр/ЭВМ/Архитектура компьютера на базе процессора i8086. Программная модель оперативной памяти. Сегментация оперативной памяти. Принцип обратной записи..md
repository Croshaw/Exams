[[ЭВМ|<==]]
# Архитектура компьютера на базе процессора i8086
## Оперативная память
Память в компьютере, обеспечивающая одну из важнейших его функций — хранение данных и программ, представлена группой устройств, которые отличаются друг от друга физической реализацией, способом использования, объёмом, стоимостью и некоторыми другими характеристиками. Из всех видов памяти компьютера наиболее важное значение имеет ***оперативная память***(ОП).
ОП *энергозависима*. память характеризуется важными показателем — ***быстродействием***. Все байты в пределах ОП пронумерованы идущими подряд целыми числами, при этом номер начального байта всегда считается равным нулю. Номер байта принято называть его адресом. Различают следующие типы стандартных полей: ***полуслово, слово, двойное слово, учетверённое слово.*** В i8086 слово памяти имеет длину 2 байта(16 бит) => полуслово - 1 байт, двойное слово - 4 байта и т. д.
## Процессор
За обработку данных отвечает процессор.
Все множество действий, которые могут быть выполнены процессором, называются его системой команд.
Машинной командой называется закодированное в двоичном алфавите указание процессору на выполнение отдельного действия, принадлежащего к его системе команд.
Машинная программа представляет собой некоторую последовательность двоичных кодов.
Процессоры компьютеров характеризуются рядом параметров. Основными считаются тактовая частота и длина машинного слова.
## Шина
Во время выполнения программы процессор постоянно обращается к ОП. Он выбирает из оперативной памяти команды, программы и обрабатываемые данные, а также записывает в память результаты их обработки. Для передачи всей этой информации процессор и ОП соединяются между собой набором проводов. По каждому проводу передаётся только один бит данных, бит адреса или управляющий сигнал.
Кол-во проводов в шине называется её **разрядностью**, а провода, из которых она состоит, называются **линиями шины**.
Разъёмы шины делятся на **сокеты**, **слоты** и **порты**.
Линии шины, по которым передаётся необходимая управляющая информация, образуют **шину управления**. Часть шины, которая служит для передачи адресов полей или байтов ОП, называется **адресной шиной**. А когда говорят о линиях шины, отвечающих за передачу содержимого этих байтов, используют название **шина данных**.
Разрядность шины данных тесно связана с длиной машинного слова и часто бывает ей равна. В компьютере с процессором i8086 используется 16 разрядная шина данных.
Каждая комбинация битов на линиях адресной шины считается адресом байта или поля ОП. При 20 разрядной адресной шине адрес любого байта ОП задаётся ровно 20-тью двоичными или же 5-тью 16-ричными цифрами. Разрядность адресной шины определяет *максимально возможный объём* ОП. При 20 разрядной шине, существует всего $2^{20}$ различных комбинаций($2^{20}$ байта = 1 Мбайт).
К общей шине обращаются все устройства компьютера. Для разрешения конфликтных ситуаций предусмотрена специальная микросхема, которую называют **арбитром шины**, а выбор устройства, получающего доступ к шине, называется **арбитражем шины**.
Компьютеры, в которых для внутренней передачи данных используются шины,
относят к компьютерам с **шинной архитектурой**. В современных компьютерах
шины делятся на **внутренние** и **внешние**. Внутренняя шина находится внутри
процессора и используется для передачи кодов между его внутренними частями,
а внешние шины соединяют устройства вне центрального процессора.
# Программная модель оперативной памяти
Программная модель ОЗУ — представление памяти с точки зрения её эффективного использования при написании программ, принимая во внимание только необходимые для этого свойства памяти.
Любое обращение к памяти со стороны процессора осуществляется только по адресам(чётным) слов памяти. Так, для выборки содержимого двухбайтового поля с адресом $00005_{16}$(байты $00005_{16}$ и $00006_{16}$), процессор прочитает слова с адресами $00004_{16}$ и $00006_{16}$, а затем отберёт нужные. В связи с этим программисты, часто рассматривают `ОЗУ` как упорядоченную последовательность слов памяти с чётными адресами(рис 1)

![[Pasted image 20240104184323.png]]
Рисунок 1

Параграфом называется участок оперативной памяти, который всегда начинается с адреса, кратного 16.
# Сегментация оперативной памяти
Естественное на первый взгляд представление об оперативной памяти как о совокупности байтов, каждый из которых в равной мере доступен любой из одновременно выполняющихся программ, приводит *к ряду проблем, которые в основном сводятся к невозможности организации одновременного выполнения программ, осуществляющих обращение для записи к одним и тем же физическим адресам оперативной памяти.*
Негативные факторы влекут за собой требование о наличии у программ свойства перемещаемости, которое заключается в том, что программа не должна зависеть от выделенного ей участка оперативной памяти.
Механизм, обеспечивающий программам нужные свойства перемещаемости и защиты от взаимного разрушения во время их одновременного нахождения в оперативной памяти, представляет собой **сегментацию** оперативной памяти. Центральным понятие этого механизма является сегмент памяти, который отличается использованием автономной, независимой от общей адресацией полей, памяти.
<u>Сегментом</u> называется сплошной участок оперативной памяти с независимой адресацией байтов, входящих в сегмент
Каждый сегмент оперативной памяти, так же как и поле памяти, характеризуется адресом начала сегмента *S* и длиной сегмента *L*. **Адрес сегмента** *S* является абсолютным адресом его начального байта, а адрес *S* + *L* является абсолютным адресом последнего байта сегмента.
В каждом сегменте памяти кроме общей, абсолютной системы адресации вводится своя собственная, независимая от общей относительная система отсчёта адресов байтов, принадлежащих сегменту. Адреса *D* таких байтов отсчитываются относительно начального байта сегмента, поэтому их называют **внутрисегментными смещениями**, или просто **смещениями**. Такой способ задания адресов называется **сегментной адресацией.**
Свойства сегмента оперативной памяти в компьютерах, использующих процессор i8086:
- всегда имеет длину 64 Кбайт;
- обязательно начинается с адреса, кратного 16(сегмент должен быть выровнен по началу параграфа).

# Принцип обратной записи
Разработчики вычислительной техники часто используют общий принцип, по которому более важная информация должна размещаться в начале сообщения, а её уточнения, различные детали — в конце. В соответствии с этим принципом размещаются, например, элементы кода числа в формате с плавающей точкой: в начальном разряде поля находится самый важный элемент — код знака, затем располагается код порядка и на последнем месте находится наименее информативный код мантиссы, причём сначала размещаются старшие биты мантиссы, а в конце — её младшие биты.
Байты внутри полей, так же как в ОЗУ в целом, нумеруются слева направо. В то же время биты внутри отдельных байтов и полей памяти нумеруются справа налево. Необходимость в использовании такого порядка нумерации битов объясняется действием закона разложения по снованию системы счисления. В нумерации справа налево номер любого бита совпадает с номером разряда соответствующей цифры кода, что обеспечивает эффективное выполнение арифметических операций над кодами целых чисел. Порядок нумерации байтов внутри поля, очевидно, противоречит правилу размещения старших и младших битов кода. Таким образом, нужно отказываться либо от выбранных способов нумерации, либо от принципа. Разработчики процессоров Intel разрешили это противоречие, введя обратный порядок записи кодов, в соответствии с котором старшие цифры всегда записываются в старшие байты поля.
Использование прямого способа сохраняет естественный порядок следования битов кода в поле, но нарушает принцип — старшие разряды кода попадают в младшие байты поля, в то время как обратный порядок записи удовлетворяет этому принципу.